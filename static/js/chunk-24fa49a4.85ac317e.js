(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24fa49a4"],{"3d94":function(t,e,n){"use strict";n.d(e,"j",(function(){return r})),n.d(e,"i",(function(){return l})),n.d(e,"q",(function(){return a})),n.d(e,"a",(function(){return i})),n.d(e,"k",(function(){return s})),n.d(e,"o",(function(){return c})),n.d(e,"l",(function(){return u})),n.d(e,"f",(function(){return d})),n.d(e,"d",(function(){return m})),n.d(e,"b",(function(){return f})),n.d(e,"e",(function(){return g})),n.d(e,"c",(function(){return p})),n.d(e,"m",(function(){return h})),n.d(e,"h",(function(){return b})),n.d(e,"g",(function(){return v})),n.d(e,"n",(function(){return y})),n.d(e,"p",(function(){return O})),n.d(e,"r",(function(){return j})),n.d(e,"s",(function(){return w}));var o=n("b775");function r(t){return console.log("params->",t),Object(o["a"])({url:"/contest/listByOrganizer",method:"get",params:t})}function l(t){return Object(o["a"])({url:"/contest/info/"+t,method:"get"})}function a(t){return Object(o["a"])({url:"/contest/update",method:"post",data:t})}function i(t){return Object(o["a"])({url:"/contest/add",method:"post",data:t})}function s(t){return console.log("主办方：获取指定赛事下的报名记录->",t),Object(o["a"])({url:"/contest/enrollment/listByContestId",method:"get",params:t})}function c(t){return Object(o["a"])({url:"/contest/enrollment/listByQuery",method:"get",params:t})}function u(t){return Object(o["a"])({url:"/contest/group/list/"+t,method:"get"})}function d(t){return Object(o["a"])({url:"/contest/enrollment/check",method:"post",data:t})}function m(t){return Object(o["a"])({url:"/contest/enrollment/batchRefund",method:"post",data:t})}function f(t){return Object(o["a"])({url:"/order/batchAgreeRefund",method:"post",data:t})}function g(t){return Object(o["a"])({url:"/order/batchRefuseRefund",method:"post",data:t})}function p(t){return Object(o["a"])({url:"/order/batchCancelOrder",method:"post",data:t})}function h(t){return Object(o["a"])({url:"/order/listByQuery",method:"get",params:t})}function b(t){return Object(o["a"])({url:"/contest/createConstantNumber/"+t,method:"post"})}function v(t){return Object(o["a"])({url:"/contest/count/enrollmentArr",method:"get",params:t})}function y(){return Object(o["a"])({url:"/organizer/info",method:"get"})}function O(t){return Object(o["a"])({url:"/organizer/sign",method:"post",data:t})}function j(t){return Object(o["a"])({url:"/organizer/update",method:"post",data:t})}function w(t){return Object(o["a"])({url:"organizer/updateOrganizerPassword",method:"post",data:t})}},"50fc":function(t,e,n){"use strict";n.d(e,"A",(function(){return r})),n.d(e,"b",(function(){return l})),n.d(e,"M",(function(){return a})),n.d(e,"O",(function(){return i})),n.d(e,"o",(function(){return s})),n.d(e,"x",(function(){return c})),n.d(e,"t",(function(){return u})),n.d(e,"c",(function(){return d})),n.d(e,"C",(function(){return m})),n.d(e,"s",(function(){return f})),n.d(e,"h",(function(){return g})),n.d(e,"D",(function(){return p})),n.d(e,"E",(function(){return h})),n.d(e,"I",(function(){return b})),n.d(e,"k",(function(){return v})),n.d(e,"z",(function(){return y})),n.d(e,"d",(function(){return O})),n.d(e,"y",(function(){return j})),n.d(e,"j",(function(){return w})),n.d(e,"L",(function(){return L})),n.d(e,"n",(function(){return x})),n.d(e,"u",(function(){return k})),n.d(e,"w",(function(){return T})),n.d(e,"i",(function(){return C})),n.d(e,"F",(function(){return P})),n.d(e,"l",(function(){return _})),n.d(e,"g",(function(){return E})),n.d(e,"r",(function(){return $})),n.d(e,"N",(function(){return M})),n.d(e,"q",(function(){return z})),n.d(e,"p",(function(){return S})),n.d(e,"v",(function(){return I})),n.d(e,"G",(function(){return B})),n.d(e,"H",(function(){return F})),n.d(e,"K",(function(){return H})),n.d(e,"J",(function(){return R})),n.d(e,"B",(function(){return V})),n.d(e,"m",(function(){return q})),n.d(e,"a",(function(){return N})),n.d(e,"e",(function(){return A})),n.d(e,"f",(function(){return D}));var o=n("b775");function r(t){return console.log("api.js获取全部角色 params->",t),Object(o["a"])({url:"/role/list",method:"get",params:t})}function l(t){return Object(o["a"])({url:"/role/add",method:"post",data:t})}function a(t){return Object(o["a"])({url:"/role/update",method:"post",data:t})}function i(t){return Object(o["a"])({url:"role/updateStatus",method:"post",data:t})}function s(t){return Object(o["a"])({url:"/role/delete/"+t,method:"post"})}function c(){return Object(o["a"])({url:"/resource/cate/list",method:"get"})}function u(){return Object(o["a"])({url:"/resource/list",method:"get"})}function d(t){return Object(o["a"])({url:"/role/allocResource",method:"post",data:t})}function m(t){return Object(o["a"])({url:"/resource/listByRole/"+t,method:"get"})}function f(t){return Object(o["a"])({url:"/admin/list",method:"get",params:t})}function g(t){return Object(o["a"])({url:"/admin/add",method:"post",data:t})}function p(t){return Object(o["a"])({url:"/admin/update",method:"post",data:t})}function h(t){return Object(o["a"])({url:"/admin/updateStatus",method:"post",data:t})}function b(t){return Object(o["a"])({url:"/admin/updatePassword",method:"post",data:t})}function v(t){return Object(o["a"])({url:"/admin/delete/"+t,method:"post"})}function y(t){return Object(o["a"])({url:"/role/listByAdmin/"+t,method:"get"})}function O(t){return Object(o["a"])({url:"/admin/allocRole",method:"post",data:t})}function j(t){return Object(o["a"])({url:"/resource/listWithPage",method:"get",params:t})}function w(t){return Object(o["a"])({url:"/resource/add",method:"post",data:t})}function L(t){return Object(o["a"])({url:"/resource/update",method:"post",data:t})}function x(t){return Object(o["a"])({url:"/resource/delete/"+t,method:"post"})}function k(){return Object(o["a"])({url:"/contest/cate/list",method:"get"})}function T(){return Object(o["a"])({url:"/contest/cate/parentList",method:"get"})}function C(t){return Object(o["a"])({url:"/contest/cate/add",method:"post",data:t})}function P(t){return Object(o["a"])({url:"/contest/cate/update",method:"post",data:t})}function _(t){return Object(o["a"])({url:"/contest/cate/delete/"+t,method:"post"})}function E(t){return Object(o["a"])({url:"/contest/check",method:"post",data:t})}function $(){return Object(o["a"])({url:"/",method:"get"})}function M(){return Object(o["a"])({url:"/",method:"get"})}function z(){return Object(o["a"])({url:"/",method:"get"})}function S(){return Object(o["a"])({url:"/contest/cate/listWithChildren",method:"get"})}function I(t){return Object(o["a"])({url:"/contest/list",method:"get",params:t})}function B(){return Object(o["a"])({url:"/",method:"get"})}function F(){return Object(o["a"])({url:"/",method:"get"})}function H(){return Object(o["a"])({url:"/",method:"get"})}function R(){return Object(o["a"])({url:"/",method:"get"})}function V(){return Object(o["a"])({url:"/recommend/listForAdmin",method:"get"})}function q(t){return Object(o["a"])({url:"/recommend/delete/"+t,method:"post"})}function N(t){return Object(o["a"])({url:"/recommend/add",method:"post",data:t})}function A(t){return Object(o["a"])({url:"/contest/batchCheck",method:"post",data:t})}function D(t){return Object(o["a"])({url:"/contest/cancel/"+t,method:"post"})}},"52cb":function(t,e,n){"use strict";var o=n("99a5"),r=n.n(o);r.a},6724:function(t,e,n){"use strict";n("8d41");var o="@@wavesContext";function r(t,e){function n(n){var o=Object.assign({},e.value),r=Object.assign({ele:t,type:"hit",color:"rgba(0, 0, 0, 0.15)"},o),l=r.ele;if(l){l.style.position="relative",l.style.overflow="hidden";var a=l.getBoundingClientRect(),i=l.querySelector(".waves-ripple");switch(i?i.className="waves-ripple":(i=document.createElement("span"),i.className="waves-ripple",i.style.height=i.style.width=Math.max(a.width,a.height)+"px",l.appendChild(i)),r.type){case"center":i.style.top=a.height/2-i.offsetHeight/2+"px",i.style.left=a.width/2-i.offsetWidth/2+"px";break;default:i.style.top=(n.pageY-a.top-i.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",i.style.left=(n.pageX-a.left-i.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return i.style.backgroundColor=r.color,i.className="waves-ripple z-active",!1}}return t[o]?t[o].removeHandle=n:t[o]={removeHandle:n},n}var l={bind:function(t,e){t.addEventListener("click",r(t,e),!1)},update:function(t,e){t.removeEventListener("click",t[o].removeHandle,!1),t.addEventListener("click",r(t,e),!1)},unbind:function(t){t.removeEventListener("click",t[o].removeHandle,!1),t[o]=null,delete t[o]}},a=function(t){t.directive("waves",l)};window.Vue&&(window.waves=l,Vue.use(a)),l.install=a;e["a"]=l},"8d41":function(t,e,n){},"99a5":function(t,e,n){},cf96:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-container"},[n("div",{staticClass:"form-con"},[n("el-form",{attrs:{inline:!0,"label-width":"85px"}},[n("el-form-item",{attrs:{label:"赛事分类"}},[n("el-cascader",{staticStyle:{width:"410px"},attrs:{clearable:"",options:t.cateList},model:{value:t.cateId,callback:function(e){t.cateId=e},expression:"cateId"}})],1),t._v(" "),n("el-form-item",[n("el-button",{staticStyle:{"margin-left":"25px"},attrs:{type:"primary"},on:{click:t.updateContest}},[t._v("确认更新")])],1)],1),t._v(" "),null!=t.contest?n("el-form",{ref:"contestForm",attrs:{rules:t.validatorRules,model:t.contest,"label-width":"85px"}},[n("el-form-item",{attrs:{label:"赛事名称",prop:"name"}},[n("el-input",{staticStyle:{width:"550px"},attrs:{maxlength:"25","show-word-limit":""},model:{value:t.contest.name,callback:function(e){t.$set(t.contest,"name",e)},expression:"contest.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"报名时间",prop:"enrollmentTime"}},[n("el-date-picker",{staticStyle:{width:"550px"},attrs:{format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm",type:"datetimerange","start-placeholder":t.contest.openEnrollmentTime,"end-placeholder":t.contest.closeEnrollmentTime,"default-time":["00:01:01","23:59:00"]},on:{change:t.setEnrollmentTime},model:{value:t.enrollmentTime,callback:function(e){t.enrollmentTime=e},expression:"enrollmentTime"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"比赛时间",prop:"contestTime"}},[n("el-date-picker",{staticStyle:{width:"550px"},attrs:{format:"yyyy-MM-dd HH:mm","value-format":"yyyy-MM-dd HH:mm",type:"datetime",placeholder:"选择比赛时间"},model:{value:t.contest.contestTime,callback:function(e){t.$set(t.contest,"contestTime",e)},expression:"contest.contestTime"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"比赛地点"}},[n("div",{attrs:{id:"map-container"}}),t._v(" "),n("el-tag",{attrs:{size:"medium",effect:"dark",type:"danger"},on:{click:t.removePath}},[t._v("移除标注")]),t._v(" "),n("el-tag",{attrs:{size:"medium",effect:"dark",type:""},on:{click:t.addPath}},[t._v("安放标注")])],1),t._v(" "),n("el-form-item",{attrs:{label:"赛事标志"}},[n("span",[t._v("推荐比例为1：1")]),t._v(" "),n("el-upload",{ref:"logoRef",attrs:{action:"http://localhost:443/upload/img","list-type":"picture-card","auto-upload":!0,limit:1,"on-exceed":t.exceedLogoLimit,"file-list":t.logoList,"on-preview":t.previewLogo,"on-remove":t.removeLogo,"on-success":t.uploadLogoSuccess}},[n("i",{staticClass:"el-icon-plus"})]),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogVisibleLogo},on:{"update:visible":function(e){t.dialogVisibleLogo=e}}},[n("img",{attrs:{width:"100%",src:"http://guet-resource.challage.cn/"+t.contest.logo,alt:""}})])],1),t._v(" "),n("el-form-item",{attrs:{label:"封面图片"}},[n("span",[t._v("推荐比例为4：3")]),t._v(" "),n("el-upload",{ref:"bannerRef",attrs:{action:"http://localhost:443/upload/img","list-type":"picture-card","auto-upload":!0,limit:1,"on-exceed":t.exceedBannerLimit,"file-list":t.bannerList,"on-preview":t.previewBanner,"on-remove":t.removeBanner,"on-success":t.uploadBannerSuccess}},[n("i",{staticClass:"el-icon-plus"})]),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogVisibleBanner},on:{"update:visible":function(e){t.dialogVisibleBanner=e}}},[n("img",{attrs:{width:"100%",src:"http://guet-resource.challage.cn/"+t.contest.banner,alt:""}})])],1)],1):t._e(),t._v(" "),n("el-form",{ref:"groupForm",attrs:{model:t.contest,inline:!0}},[t._l(t.contest.groupList,(function(e,o){return n("span",{key:e.id,staticStyle:{"margin-left":"12px"}},[n("el-form-item",{attrs:{prop:"groupList."+o+".name",rules:{required:!0,message:"组别名不能为空",trigger:"blur"}}},[n("el-input",{staticStyle:{width:"300px","margin-right":"8px"},attrs:{maxlength:"20","show-word-limit":"",placeholder:"请填写组别名称"},model:{value:e.name,callback:function(n){t.$set(e,"name",n)},expression:"group.name"}},[n("template",{slot:"prepend"},[t._v("组别"+t._s(o+1))])],2)],1),t._v(" "),n("el-form-item",{attrs:{prop:"groupList."+o+".size",rules:[{validator:t.validateSize,trigger:"blur"}]}},[n("el-input",{staticStyle:{width:"135px","margin-right":"8px"},attrs:{placeholder:"0"},model:{value:e.size,callback:function(n){t.$set(e,"size",t._n(n))},expression:"group.size"}},[n("template",{slot:"prepend"},[t._v("容量")])],2)],1),t._v(" "),n("el-form-item",{attrs:{prop:"groupList."+o+".price",rules:[{validator:t.validatePrice,trigger:"blur"}]}},[n("el-input",{staticStyle:{width:"180px","margin-right":"10px"},attrs:{placeholder:"0.00"},model:{value:e.price,callback:function(n){t.$set(e,"price",n)},expression:"group.price"}},[n("template",{slot:"prepend"},[t._v("价格￥")])],2)],1),t._v(" "),n("el-form-item",[n("el-button",{on:{click:function(n){return n.preventDefault(),t.removeGroup(e)}}},[t._v("删除")])],1)],1)})),t._v(" "),n("el-row",[n("el-form-item",[n("el-button",{staticStyle:{"margin-left":"12px"},on:{click:t.addGroup}},[t._v("新增组别")])],1)],1)],2)],1),t._v(" "),n("div",[n("div",{ref:"editor",staticClass:"edit-con",staticStyle:{"text-align":"left"}})])])},r=[],l=(n("7f7f"),n("862d3")),a=n.n(l),i=n("3d94"),s=n("50fc"),c=(n("6724"),n("1a0b")),u=n.n(c),d={name:"updateContest",watch:{cateId:function(t){console.log("监听 cateId newvalue->",t),null!=t&&0!=t.length?1!=t.length&&2==t.length&&(this.contest.cateId=t[1]):this.contest.cateId=null}},data:function(){var t=this,e=function(e,n,o){console.log("验证时间段"),null==t.enrollmentTime||""==t.enrollmentTime||0==t.enrollmentTime.length?o(new Error("请选择时间段")):o()},n=function(t,e,n){console.log("校验容量数字");var o=/^[0-9]\d*$/;o.test(e)?e<1||e>5e4?n(new Error("请填写 1 ~ 50000的整数")):n():n(new Error("请输入1~50000的整数"))},o=function(t,e,n){console.log("校验价格");var o=/(^[1-9]\d*(\.\d{1,2})?$)|(^0(\.\d{1,2})?$)/;o.test(e)?e>2e4&&(n(new Error("单价应在20000以下")),n()):n(new Error("请填写整数或保留两位小数"))};return{globalPath:null,globalPoly:null,globalPolyEditor:null,globalMap:null,cateId:null,cateList:[],editorContent:"",validateSize:n,validatePrice:o,validatorRules:{name:[{required:!0,message:"请输入赛事名称",trigger:"blur"},{min:5,max:25,message:"长度在 5 到 25 个字符",trigger:"blur"}],location:[{required:!0,message:"请输入比赛地点",trigger:"blur"},{min:5,max:100,message:"长度在 5 到 50 个字符",trigger:"blur"}],type:[{required:!0,message:"请选择比赛类型",trigger:"change"}],contestTime:[{required:!0,message:"请选择比赛时间",trigger:"change"}],enrollmentTime:[{validator:e,trigger:"blur"}]},dialogVisibleLogo:!1,dialogVisibleBanner:!1,disabled:!1,contest:{id:69,cateId:null,organizerId:0,name:"loading",type:"loading",location:"loading",logo:"loading",banner:"loading",openEnrollmentTime:"2020-04-15 00:01",closeEnrollmentTime:"2020-04-23 23:59",contestTime:"2020-03-10 12:12",createTime:null,status:0,lastCheckId:null,lastCheckTime:null,lastCheckNote:"2020-03-08 12:12:00",details:"loading",groupList:[{id:212,contestId:69,name:"loading",size:9,price:123.45}]},ipt:{name:11},enrollmentTime:[],bannerList:[{name:"banner",url:""}],logoList:[{name:"logo",url:""}]}},methods:{removePath:function(){null!=this.globalPoly&&(this.globalPolyEditor.close(),this.globalMap.remove(this.globalPoly),this.globalPoly=null)},addPath:function(){this.removePath();var t=this;console.log("添加多边形");var e=this.globalMap.getCenter();console.log(e);var n=e.offset(350,-250),o=e.offset(-350,-250),r=[];r.push(e),r.push(n),r.push(o),console.log(o);var l=new AMap.Polygon({path:r,strokeColor:"#FF33FF",strokeWeight:2,strokeOpacity:.2,fillOpacity:.4,fillColor:"#1791fc",zIndex:999});this.globalMap.add(l),this.globalPoly=l,this.globalPolyEditor=new AMap.PolygonEditor(t.globalMap,l),this.globalMap.setFitView([l]),setTimeout((function(){t.globalPolyEditor.open()}),500)},initMap:function(){var t=this;a.a.load({key:"98d0ecfe819515cf9197a077e841d12c",version:"2.0",plugins:["AMap.PolygonEditor"]}).then((function(e){var n=new e.Map("map-container",{center:[116.400274,39.905812],zoom:14});t.globalMap=n;var o=new e.Polygon({path:t.globalPath,strokeColor:"#FF33FF",strokeWeight:2,strokeOpacity:.2,fillOpacity:.4,fillColor:"#1791fc",zIndex:50});n.add(o),n.setFitView([o]);var r=new e.PolygonEditor(n,o);r.open(),t.globalPoly=o,t.globalPolyEditor=r})).catch((function(t){console.log("地图加载出错->",t)}))},getCate:function(){var t=this;Object(s["p"])().then((function(e){console.log("获取分类->",e.data);var n=e.data;t.cateList=[];for(var o=0;o<n.length;o++){var r=[];if(null!=n[o].children&&n[o].children.length>0)for(var l=0;l<n[o].children.length;l++)r.push({label:n[o].children[l].name,value:n[o].children[l].id});t.cateList.push({label:n[o].name,value:n[o].id,children:r})}}))},validateSizeMethod:function(t){console.log("校验容量数字");var e=/^[0-9]\d*$/;return!!e.test(t)&&!(t<1||t>5e4)},validatePriceMethod:function(t){console.log("校验价格");var e=/(^[0-9]\d*(\.\d{1,2})?$)|(^0(\.\d{1,2})?$)/;return!!e.test(t)&&!(t<0||t>9999)},exceedBannerLimit:function(t,e){null!=this.contest.banner&&this.$message({message:"如果你想替换封面，请先移除当前图片",type:"fail"})},exceedLogoLimit:function(t,e){null!=this.contest.logo&&this.$message({message:"如果你想替换logo，请先移除当前图片",type:"fail"})},removeBanner:function(t,e){this.$refs.bannerRef.clearFiles(),this.contest.banner=null,console.log(t,e)},removeLogo:function(t,e){this.$refs.logoRef.clearFiles(),this.contest.logo=null,console.log(t,e)},previewBanner:function(t){this.banner=t.url,this.dialogVisibleBanner=!0},previewLogo:function(t){this.logo=t.url,this.dialogVisibleLogo=!0},uploadBannerSuccess:function(t,e,n){this.contest.banner=t.data},uploadLogoSuccess:function(t,e,n){this.contest.logo=t.data},handleDownload:function(t){console.log(t)},removeGroup:function(t){var e=this.contest.groupList.indexOf(t);-1!==e&&this.contest.groupList.splice(e,1)},addGroup:function(){this.contest.groupList.push({name:"",size:1,price:0})},setEnrollmentTime:function(){console.log("设置报名时间"),console.log(this.enrollmentTime[0],this.enrollmentTime[1]),this.contest.openEnrollmentTime=this.enrollmentTime[0],this.contest.closeEnrollmentTime=this.enrollmentTime[1]},updateContest:function(){var t=this;if(null!=this.globalPoly){console.log(this.globalPoly.getPath()),this.contest.location=JSON.stringify(this.globalPoly.getPath()),this.contest.details=this.editorContent;var e=this.contest,n=this.editorContent.length;n&&0!=n?n>2e5?this.$message({message:"赛事详情过长。注意, 赛事限定容量为200,000 , 您当前所占容量为"+n+", 请删减多余信息。",type:"fail"}):this.$refs.contestForm.validate((function(n){if(n){for(var o=0;o<t.contest.groupList.length;o++){if(console.log("校验第"+o+"组"),null==t.contest.groupList[o].name||t.contest.groupList[o].name.length<1)return void t.$message({message:"组别"+(o+1)+"名称：不能为空",type:"fail"});if(!t.validateSizeMethod(t.contest.groupList[o].size))return void t.$message({message:"第"+(o+1)+"组容量：请填写整数或保留两位小数,数值范围1~50000",type:"fail"});if(!t.validatePriceMethod(t.contest.groupList[o].price))return void t.$message({message:"第"+(o+1)+"组价格：请填写整数或保留两位小数,数值范围0~9999",type:"fail"})}if(null!=t.contest.cateId)if(null!=t.contest.banner)if(null!=t.contest.logo)if(0!=t.contest.groupList.length){var r=new Date(t.contest.contestTime).getTime(),l=new Date(t.contest.openEnrollmentTime).getTime(),a=new Date(t.contest.closeEnrollmentTime).getTime();if(l>=a)t.$message({message:"报名时间段落不符合要求",type:"fail"});else if(a>=r)t.$message({message:"比赛时间必须在报名截止时间之后",type:"fail"});else{var s=t;Object(i["q"])(e).then((function(e){t.$message({message:"更新成功",type:"success"}),console.log("router--"),s.$router.push("/list")}))}}else t.$message({message:"最少一个组别",type:"fail"});else t.$message({message:"logo不能为空",type:"fail"});else t.$message({message:"banner不能为空",type:"fail"});else t.$message({message:"请选择赛事种类",type:"fail"})}else t.$message({message:"请按要求填写",type:"fail"})})):this.$message({message:"赛事详情不能为空",type:"fail"})}else this.$message({message:"请标注比赛地点",type:"fail"})}},mounted:function(){var t=this;this.getCate();var e=this.$route.params.contestId;Object(i["i"])(e).then((function(e){console.log(e.data);try{t.globalPath=JSON.parse(e.data.location),t.initMap()}catch(o){}t.cateId=e.data.cateId,t.contest=e.data,t.editorContent=e.data.details,t.bannerList[0].url="http://guet-resource.challage.cn/"+e.data.banner,t.logoList[0].url="http://guet-resource.challage.cn/"+e.data.logo,t.enrollmentTime[0]=e.data.openEnrollmentTime,t.enrollmentTime[1]=e.data.closeEnrollmentTime;var n=new u.a(t.$refs.editor);n.customConfig.onchange=function(e){t.editorContent=e},n.customConfig.uploadImgServer="http://localhost:443/upload/img",n.customConfig.uploadFileName="file",n.customConfig.uploadImgHooks={before:function(t,e,n){},success:function(t,e,n){console.log("上传成功"),console.log(n)},fail:function(t,e,n){console.log("图片上传并返回结果，但图片插入错误时触发"),console.log(n)},error:function(t,e){alert("图片上传错误，请删除重试")},timeout:function(t,e){alert("图片上传错误，请删除重试")},customInsert:function(t,e,n){var o="http://guet-resource.challage.cn/"+e.data;t(o)}},n.customConfig.zIndex=10,n.create(),n.txt.html(t.editorContent)}))},components:{}},m=d,f=(n("52cb"),n("2877")),g=Object(f["a"])(m,o,r,!1,null,null,null);e["default"]=g.exports}}]);